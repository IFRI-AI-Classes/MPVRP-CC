{% extends "base.html" %}

{% block title %}Sp√©cifications Techniques - MPVRP-CC{% endblock %}

{% block content %}
<div class="content-section">
    <h1>Sp√©cifications techniques</h1>

    <div class="info-box">
        <svg class="info-box-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p>Cette page d√©crit les formats standards utilis√©s pour les fichiers d'instances et de solutions du probl√®me MPVRP-CC. Respectez scrupuleusement ces formats pour assurer la compatibilit√© avec les outils de validation.</p>
    </div>

    <!-- Section Format des Instances -->
    <h2>üìÅ Format des fichiers d'instance</h2>
    <p>
        Les instances du Multi-Product Vehicle Routing Problem with Changeover Cost (MPVRP-CC) utilisent un format texte compact avec l'extension <code>.dat</code>.
    </p>

    <div class="spec-card">
        <h4>üìù Convention de Nommage</h4>
        <p>Le nom du fichier suit le format : <code>MPVRP_A_sB_dC_pD.dat</code></p>
    </div>

    <div class="spec-grid">
        <div class="spec-item">
            <h5><span class="spec-badge">A</span> Identifiant</h5>
            <p>Num√©ro unique de l'instance</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">B</span> Stations</h5>
            <p>Nombre de stations-service</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">C</span> D√©p√¥ts</h5>
            <p>Nombre de d√©p√¥ts d'approvisionnement</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">D</span> Produits</h5>
            <p>Nombre de types de produits</p>
        </div>
    </div>

    <h3>Structure du Fichier d'Instance</h3>
    <p>Le fichier est organis√© en sections cons√©cutives :</p>

    <div class="accordion">
        <div class="accordion-item active">
            <div class="accordion-header">
                <span>1Ô∏è‚É£ Param√®tres Globaux (Ligne 1)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>La premi√®re ligne contient les param√®tres principaux de l'instance :</p>
                <pre>NbVehicules NbDepots NbGarages NbStations NbProduits</pre>
                <p><strong>Exemple :</strong> <code>5 2 1 20 3</code> signifie 5 v√©hicules, 2 d√©p√¥ts, 1 garage, 20 stations et 3 produits.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>2Ô∏è‚É£ Matrice de Co√ªts de Transition</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Matrice carr√©e (NbProduits √ó NbProduits) repr√©sentant le co√ªt de passage d'un produit √† un autre.</p>
                <pre>Cost_P1‚ÜíP1  Cost_P1‚ÜíP2  ...
Cost_P2‚ÜíP1  Cost_P2‚ÜíP2  ...
...</pre>
                <p><strong>Note :</strong> Les √©l√©ments diagonaux (changement vers le m√™me produit) sont g√©n√©ralement √† 0.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>3Ô∏è‚É£ Description des V√©hicules</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Une ligne par v√©hicule avec les informations suivantes :</p>
                <pre>V_ID  Capacit√©  GarageOrigine  ProduitInitial</pre>
                <table>
                    <tr><th>Champ</th><th>Description</th></tr>
                    <tr><td><code>V_ID</code></td><td>Identifiant unique du v√©hicule</td></tr>
                    <tr><td><code>Capacit√©</code></td><td>Capacit√© maximale de chargement</td></tr>
                    <tr><td><code>GarageOrigine</code></td><td>ID du garage de d√©part</td></tr>
                    <tr><td><code>ProduitInitial</code></td><td>ID du produit charg√© initialement</td></tr>
                </table>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>4Ô∏è‚É£ Description des D√©p√¥ts</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Une ligne par d√©p√¥t avec les coordonn√©es et stocks disponibles :</p>
                <pre>D_ID  X  Y  Stock_P1  Stock_P2  ...  Stock_Pp</pre>
                <p><strong>Note :</strong> Les stocks sont consid√©r√©s suffisants dans le mod√®le standard.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>5Ô∏è‚É£ Description des Garages</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Une ligne par garage avec ses coordonn√©es :</p>
                <pre>G_ID  X  Y</pre>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>6Ô∏è‚É£ Description des Stations</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Une ligne par station avec les coordonn√©es et demandes par produit :</p>
                <pre>S_ID  X  Y  Demande_P1  Demande_P2  ...  Demande_Pp</pre>
            </div>
        </div>
    </div>
    <h3>Exemple d'instance</h3>
    <pre>2	1	2	3	2
0.0	18.1
61.5	0.0
1	20000	1	1
2	20000	1	2
1	81.6	63.6	57914	82626
1	98.1	49.6
2	56.8	26
1	23.5	42.2	0	4278
2	3.5	38.3	1344	2350
3	56.7	31.3	0	2319
</pre>

    <!-- Section Format des Solutions -->
    <h2>üìã Format des solutions</h2>
    <p>
        Les solutions doivent √™tre fournies sous forme de fichiers texte (<code>.dat</code>) respectant une structure pr√©cise pour permettre leur validation automatique.
    </p>

    <div class="spec-card">
        <h4>üìù Convention de Nommage des Solutions</h4>
        <p>Format : <code>Sol_MPVRP_{id}_s{stations}_d{depots}_p{produits}.dat</code></p>
        <p><strong>Exemple :</strong> <code>Sol_MPVRP_3_s3_d1_p2.dat</code> est la solution pour l'instance <code>MPVRP_3_s3_d1_p2.dat</code>.</p>
    </div>

    <h3>Structure du Fichier de Solution</h3>
    <p>Le fichier est compos√© de blocs d√©crivant les itin√©raires de chaque v√©hicule, suivis d'un bloc de m√©triques globales.</p>

    <div class="accordion">
        <div class="accordion-item active">
            <div class="accordion-header">
                <span>üöõ Routes des V√©hicules</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Pour chaque v√©hicule utilis√©, deux lignes cons√©cutives d√©crivent son activit√© :</p>

                <h5>Ligne A : Itin√©raire et Quantit√©s Livr√©es</h5>
                <pre>Garage - D√©p√¥t - Station(Qt√©) - Station(Qt√©) - D√©p√¥t - ... - Garage</pre>
                <p><strong>Exemple :</strong> <code>1 - 3 - 8 ( 51 ) - 9 ( 63 ) - 3 - 1</code></p>
                <ul>
                    <li><strong>Garage / D√©p√¥t</strong> : Indiqu√©s par leur ID seul</li>
                    <li><strong>Station</strong> : ID suivi de la quantit√© livr√©e entre parenth√®ses <code>( Qt√© )</code></li>
                </ul>

                <h5>Ligne B : Produits et Co√ªts Cumul√©s</h5>
                <pre>Prod(Co√ªt) - Prod(Co√ªt) - Prod(Co√ªt) - ...</pre>
                <p><strong>Exemple :</strong> <code>3(0.0) - 3(0.0) - 3(0.0) - 3(0.0) - 3(0.0)</code></p>
                <ul>
                    <li><strong>Prod</strong> : ID du produit transport√© √† ce moment</li>
                    <li><strong>Co√ªt</strong> : Co√ªt cumul√© de changement de produit</li>
                </ul>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>üî¢ Codification des N≈ìuds</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Les identifiants (ID) des n≈ìuds sont uniques et s√©quentiels :</p>
                <table>
                    <tr><th>Plage d'ID</th><th>Type de Site</th></tr>
                    <tr><td><code>1</code> √† <code>NbGarages</code></td><td>Garages</td></tr>
                    <tr><td><code>NbGarages + 1</code> √† <code>NbGarages + NbDepots</code></td><td>D√©p√¥ts</td></tr>
                    <tr><td><code>NbGarages + NbDepots + 1</code> √† <code>...</code></td><td>Stations</td></tr>
                </table>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>üìä M√©triques Globales (Fin de fichier)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Les 6 derni√®res lignes du fichier contiennent les statistiques globales :</p>
                <table>
                    <tr><th>Ligne</th><th>Description</th></tr>
                    <tr><td>1</td><td>Nombre de changements de produit</td></tr>
                    <tr><td>2</td><td>Nombre de v√©hicules utilis√©s</td></tr>
                    <tr><td>3</td><td>Co√ªt total de changement</td></tr>
                    <tr><td>4</td><td>Co√ªt total de transport</td></tr>
                    <tr><td>5</td><td>Information syst√®me (ex: CPU)</td></tr>
                    <tr><td>6</td><td>Temps d'ex√©cution (secondes)</td></tr>
                </table>
            </div>
        </div>
    </div>

    <h3>Exemple Complet de Solution</h3>
    <pre>1 - 3 - 8 ( 51 ) - 9 ( 63 ) - 1
3(0.0) - 3(0.0) - 3(0.0) - 3(0.0) - 3(0.0)

2 - 4 - 13 ( 18 ) - 2
2(0.0) - 2(0.0) - 2(0.0) - 2(0.0)

2
2
47.70
1385.07
Intel Core i7
0.245</pre>

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const accordionHeaders = document.querySelectorAll('.accordion-header');

    accordionHeaders.forEach(header => {
        header.addEventListener('click', function() {
            const accordionItem = this.parentElement;
            accordionItem.classList.toggle('active');
        });
    });
});
</script>
{% endblock %}
