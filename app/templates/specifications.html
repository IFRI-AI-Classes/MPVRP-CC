{% extends "base.html" %}

{% block title %}Sp√©cifications - MPVRP-CC{% endblock %}

{% block content %}
<div class="content-section">
    <h1>Sp√©cifications techniques</h1>

    <div class="info-box">
        <svg class="info-box-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p>
            Cette page d√©taille les formats de fichiers utilis√©s pour les instances et les solutions du probl√®me.
            Ces sp√©cifications sont essentielles pour garantir l'interop√©rabilit√© entre le g√©n√©rateur d'instances, les solveurs et les outils de v√©rification.
        </p>
    </div>

    <!-- Section Format des Instances -->
    <h2>üìÅ Format des instances</h2>
    <p>
        Les instances sont stock√©es dans des fichiers texte portant l'extension <code>.dat</code>.
    </p>

    <div class="spec-card">
        <h4>Convention de nommage</h4>
        <p>Le nom du fichier encode les caract√©ristiques principales de l'instance :</p>
        <p><code>MPVRP_A_sB_dC_pD.dat</code></p>
    </div>

    <div class="spec-grid">
        <div class="spec-item">
            <h5><span class="spec-badge">A</span> Identifiant</h5>
            <p>Num√©ro unique de l'instance (ex: 01, 02)</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">B</span> Stations</h5>
            <p>Nombre de clients √† livrer</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">C</span> D√©p√¥ts</h5>
            <p>Nombre de points de chargement</p>
        </div>
        <div class="spec-item">
            <h5><span class="spec-badge">D</span> Produits</h5>
            <p>Nombre de types de produits diff√©rents</p>
        </div>
    </div>

    <h3>Structure interne du fichier</h3>
    <p>Le fichier est structur√© en blocs de donn√©es s√©quentiels. Les valeurs sont s√©par√©es par des espaces ou des tabulations.</p>

    <div class="accordion">
        <div class="accordion-item active">
            <div class="accordion-header">
                <span>1. Param√®tres globaux (Ligne 1)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>La premi√®re ligne d√©finit les dimensions du probl√®me :</p>
                <pre>NbVehicules  NbDepots  NbGarages  NbStations  NbProduits</pre>
                <p><strong>Exemple :</strong> <code>5 2 1 20 3</code></p>
                <ul>
                    <li>5 v√©hicules disponibles</li>
                    <li>2 d√©p√¥ts de chargement</li>
                    <li>1 garage pour la flotte</li>
                    <li>20 stations-service √† desservir</li>
                    <li>3 types de produits √† distribuer</li>
                </ul>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>2. Matrice de co√ªts de transition</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>
                    Cette matrice carr√©e (taille <em>NbProduits √ó NbProduits</em>) d√©finit le co√ªt de nettoyage n√©cessaire pour passer d'un produit √† un autre dans la citerne du camion.
                </p>
                <pre>Cost_P1‚ÜíP1  Cost_P1‚ÜíP2  ...
Cost_P2‚ÜíP1  Cost_P2‚ÜíP2  ...
...</pre>
                <p>
                    La valeur √† la ligne <em>i</em> et colonne <em>j</em> est le co√ªt pour passer du produit <em>i</em> au produit <em>j</em>.
                    La diagonale est g√©n√©ralement nulle (pas de co√ªt pour garder le m√™me produit).
                </p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>3. Flotte de v√©hicules</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Chaque ligne d√©crit un v√©hicule disponible :</p>
                <pre>ID  Capacit√©  GarageOrigine  ProduitInitial</pre>
                <table>
                    <tr><th>Champ</th><th>Description</th></tr>
                    <tr><td><code>ID</code></td><td>Identifiant unique du v√©hicule</td></tr>
                    <tr><td><code>Capacit√©</code></td><td>Volume maximum transportable</td></tr>
                    <tr><td><code>GarageOrigine</code></td><td>ID du garage de rattachement</td></tr>
                    <tr><td><code>ProduitInitial</code></td><td>Configuration initiale de la citerne</td></tr>
                </table>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>4. D√©p√¥ts (points de chargement)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Chaque ligne d√©finit un d√©p√¥t :</p>
                <pre>ID  X  Y  Stock_P1  Stock_P2  ...  Stock_Pp</pre>
                <ul>
                    <li><code>X, Y</code> : Coordonn√©es g√©ographiques</li>
                    <li><code>Stock_Pi</code> : Quantit√© disponible pour le produit <em>i</em></li>
                </ul>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>5. Garages (bases)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Chaque ligne d√©finit un garage :</p>
                <pre>ID  X  Y</pre>
                <p>Les garages servent uniquement de point de d√©part et d'arriv√©e pour les tourn√©es.</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>6. Stations-service (clients)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Chaque ligne d√©finit une station et ses besoins :</p>
                <pre>ID  X  Y  Demande_P1  Demande_P2  ...  Demande_Pp</pre>
                <ul>
                    <li><code>Demande_Pi</code> : Quantit√© requise pour le produit <em>i</em></li>
                    <li>Une demande de 0 signifie que la station n'a pas besoin de ce produit.</li>
                </ul>
            </div>
        </div>
    </div>
    <h3>Exemple d'instance</h3>
    <pre>2	1	2	3	2
0.0	18.1
61.5	0.0
1	20000	1	1
2	20000	1	2
1	81.6	63.6	57914	82626
1	98.1	49.6
2	56.8	26
1	23.5	42.2	0	4278
2	3.5	38.3	1344	2350
3	56.7	31.3	0	2319
</pre>

    <!-- Section Format des Solutions -->
    <h2>üìã Format des solutions</h2>
    <p>
        Pour √™tre valid√©e, une solution doit √™tre fournie dans un fichier texte respectant strictement la structure ci-dessous.
        Le nom du fichier doit correspondre √† l'instance r√©solue (ex: <code>Sol_MPVRP_...</code>) toujours avec l'extension <code>.dat</code>.
    </p>

    <h3>Structure du fichier</h3>
    <p>Le fichier d√©crit les tourn√©es v√©hicule par v√©hicule, puis termine par un r√©sum√© des performances.</p>

    <div class="accordion">
        <div class="accordion-item active">
            <div class="accordion-header">
                <span>Description des tourn√©es</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Pour chaque v√©hicule utilis√©, la solution contient un bloc de <strong>2 lignes</strong> :</p>

                <h5>Ligne 1 : S√©quence de visite</h5>
                <pre>Garage - D√©p√¥t - Station(Qt√©) - ... - Garage</pre>
                <p>D√©crit le chemin parcouru. Les quantit√©s livr√©es aux stations sont indiqu√©es entre parenth√®ses.</p>

                <h5>Ligne 2 : S√©quence des produits et co√ªts</h5>
                <pre>Prod(Co√ªt) - Prod(Co√ªt) - ...</pre>
                <p>Indique quel produit est transport√© √† chaque √©tape et le co√ªt de changement associ√© (si applicable).</p>

                <div class="info-box" style="margin-top: 15px; padding: 10px;">
                    <p style="font-size: 0.9em; margin: 0;">
                        <strong>Note :</strong> Les deux lignes doivent √™tre parfaitement align√©es en termes de nombre d'√©tapes.
                    </p>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <span>Indicateurs de performance (fin de fichier)</span>
                <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
            <div class="accordion-content">
                <p>Les 6 derni√®res lignes du fichier r√©sument la qualit√© de la solution :</p>
                <ol>
                    <li>Nombre total de changements de produit</li>
                    <li>Nombre de v√©hicules utilis√©s</li>
                    <li>Co√ªt total de changement de produit</li>
                    <li>Co√ªt total de transport (distance)</li>
                    <li>Information sur le syst√®me (CPU)</li>
                    <li>Temps de calcul (secondes)</li>
                </ol>
            </div>
        </div>
    </div>

    <h3>Exemple de Solution Valide</h3>
    <pre>1 - 3 - 8 ( 51 ) - 9 ( 63 ) - 1
3(0.0) - 3(0.0) - 3(0.0) - 3(0.0) - 3(0.0)

2 - 4 - 13 ( 18 ) - 2
2(0.0) - 2(0.0) - 2(0.0) - 2(0.0)

2
2
47.70
1385.07
Intel Core i7
0.245</pre>

</div>
{% endblock %}
